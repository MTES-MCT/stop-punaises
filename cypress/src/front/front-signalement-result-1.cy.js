import user from '../../fixtures/user.json'

describe('Post front signalement with 1 as a result', () => {
  it ('Gets 1 as a result', () => {
    cy.get('section.current-step .btn-next').click()
    cy.wait(300)
    cy.get('#signalement_front_typeLogement_1').click()
    cy.get('#signalement_front_superficie').type(45)
    cy.get('.skip-search-address').click()
    cy.get('#signalement_front_adresse').type(user.address)
    cy.get('#signalement_front_codePostal').type(user.codepostal)
    cy.get('#signalement_front_ville').type(user.city)
    cy.get('section.current-step .btn-next').click()
    cy.wait(300)
    cy.get('#signalement_front_locataire_0').click()
    cy.get('#signalement_front_logementSocial_0').click()
    cy.get('#signalement_front_allocataire_1').click()
    cy.get('section.current-step .btn-next').click()
    cy.wait(300)
    cy.get('#signalement_front_dureeInfestation_0').click()
    cy.get('section.current-step .btn-next').click()
    cy.wait(300)
    cy.get('section.current-step .btn-next').click()
    cy.wait(300)
    cy.get('#signalement_front_piquresExistantes_0').click()
    cy.get('#signalement_front_piquresConfirmees_0').click()
    cy.get('section.current-step .btn-next').click()
    cy.wait(300)
    cy.get('#signalement_front_dejectionsTrouvees_1').click()
    cy.get('section.current-step .btn-next').click()
    cy.wait(300)
    cy.get('section.current-step .btn-next').click()
    cy.wait(300)
    cy.get('#signalement_front_oeufsEtLarvesTrouves_1').click()
    cy.get('section.current-step .btn-next').click()
    cy.wait(300)
    cy.get('#signalement_front_punaisesTrouvees_1').click()
    cy.get('section.current-step .btn-next').click()
    cy.wait(300)
    cy.get('#signalement_front_nomOccupant').type(user.lastname)
    cy.get('#signalement_front_prenomOccupant').type(user.firstname)
    cy.get('#signalement_front_telephoneOccupant').type(user.telephone)
    cy.get('#signalement_front_emailOccupant').type(user.email)
    cy.get('section.current-step .if-territory-open .btn-next').click()
    cy.wait(300)
    cy.get('#niveau-infestation .niveau-infestation').contains('1')
  })

})
